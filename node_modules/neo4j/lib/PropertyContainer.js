/*** Generated by streamline 0.4.0 (callbacks) - DO NOT EDIT ***/
var __rt=require('streamline/lib/callbacks/runtime').runtime(__filename),__func=__rt.__func,__cb=__rt.__cb,__tryCatch=__rt.__tryCatch;
/*     1 */ (function() {
/*     2 */   var PropertyContainer, adjustError, status, util;
/*     4 */   status = require("http-status");
/*     6 */   util = require("./util");
/*     8 */   adjustError = util.adjustError;
/*    10 */   module.exports = PropertyContainer = (function() {
/*    11 */     var get, set, _this = this;
/*    14 */     function PropertyContainer(db, data) {
/*    15 */       this.db = db;
/*    16 */       this._request = db._request;
/*    17 */       this._data = (data || {
                  });
/*    18 */       this._data.self = ((((data != null) ? data.self : void 0)) || null);
                };
/*    25 */     get = function(props) {
/*    26 */       var getter, name, _results;
/*    27 */       _results = [];
/*    28 */       for (name in props) {
/*    29 */         getter = props[name];
/*    30 */         _results.push(PropertyContainer.prototype.__defineGetter__(name, getter));
                  };
/*    32 */       return _results;
                };
/*    35 */     set = function(props) {
/*    36 */       var name, setter, _results;
/*    37 */       _results = [];
/*    38 */       for (name in props) {
/*    39 */         setter = props[name];
/*    40 */         _results.push(PropertyContainer.prototype.__defineSetter__(name, setter));
                  };
/*    42 */       return _results;
                };
/*    49 */     get({
/*    50 */       self: function() {
/*    51 */         return (this._data.self || null);
                  }
                });
/*    55 */     get({
/*    56 */       exists: function() {
/*    57 */         return (this.self != null);
                  }
                });
/*    61 */     get({
/*    62 */       id: function() {
/*    63 */         var match;
/*    64 */         if (!this.exists) {
/*    65 */           return null;
                    }
/*    66 */          else {
/*    67 */           match = /(?:node|relationship)\/(\d+)$/.exec(this.self);
/*    68 */           return parseInt(match[1]);
                    }
                  ;
                  }
                });
/*    73 */     get({
/*    74 */       data: function() {
/*    75 */         return (this._data.data || null);
                  }
                });
/*    79 */     set({
/*    80 */       data: function(value) {
/*    81 */         return this._data.data = value;
                  }
                });
/*    88 */     PropertyContainer.prototype.equals = function(other) {
/*    89 */       return (this.self === (((other != null) ? other.self : void 0)));
                };
/*    92 */     PropertyContainer.prototype["delete"] = function PropertyContainer_prototype_delete__1(_) {
                  var response, __this = this;
                  var __frame = {
                    name: "PropertyContainer_prototype_delete__1",
                    line: 92
                  };
                  return __func(_, this, arguments, PropertyContainer_prototype_delete__1, 0, __frame, function __$PropertyContainer_prototype_delete__1() {
/*    94 */         if (!__this.exists) {
                      return _(null);
                    }
                  ;
                    return (function ___(__then) {
                      (function ___(_) {
                        __tryCatch(_, function __$PropertyContainer_prototype_delete__1() {
/*    98 */               return __this._request.del(__this.self, __cb(_, __frame, 6, 19, function ___(__0, __1) {
/*    98 */                 response = __1;
/*    99 */                 if ((response.statusCode !== status.NO_CONTENT)) {
/*   100 */                   switch (response.statusCode) {
/*   101 */                   case status.NOT_FOUND:
/*   101 */                     return _(new Error("PropertyContainer not found"));
/*   102 */                   case status.CONFLICT:
/*   104 */                     return _(new Error("Node could not be deleted (still has relationships?)"));
/*   105 */                     default:
/*   107 */                     return _(response);
/*   108 */                   };
                            }
                          ;
/*   111 */                 __this._data.self = null;
                            __then();
                          }, true));
                        });
                      })(function ___(error, __result) {
                        __tryCatch(_, function __$PropertyContainer_prototype_delete__1() {
                          if (error) {
/*   113 */                 return _(adjustError(error));
                          }
                           else {
                            _(null, __result);
                          }
                        ;
                        });
                      });
                    })(function ___() {
                      __tryCatch(_, _);
                    });
                  });
                };
/*   117 */     PropertyContainer.prototype.del = function() {
/*   118 */       return this["delete"].apply(this, arguments);
                };
/*   121 */     return PropertyContainer;
/*   123 */   }).call(this);
/*   125 */ }).call(this);
